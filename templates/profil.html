<!-- templates/profil.html -->
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <title>Profil - CinéForum</title>
    <link rel="stylesheet" href="/static/css/profil.css">
  </head>
  <body>
    <header>
      <h1>Mon Profil</h1>
      <nav>
        <a href="/index" class="btn">Accueil</a>
        <a href="/deconnexion" class="btn">Déconnexion</a>
      </nav>
    </header>
    <main>
      <section class="profile-container">
        <div class="profile-header">
          <div class="profile-photo">
            <img
              src="/static/images/profil/{{.Photo}}"
              alt="Photo de profil"
              onerror="this.onerror=null; this.src='/static/images/profil/default.png';"
            >
          </div>
          <a href="/modify-profil" class="btn">
            Modifier le nom d'utilisateur ou la photo de profil
          </a>
        </div>

        <div class="profile-info">
          <p><strong>ID :</strong> {{.ID}}</p>
          <p><strong>Nom d'utilisateur :</strong> {{.Username}}</p>
          <p><strong>Email :</strong> {{.Email}}</p>
          <p><strong>Date de création :</strong> {{.CreatedAt}}</p>
          <p><strong>Dernier post :</strong> {{.LastPostDate}}</p>
          <p><strong>Dernière activité (commentaire/like) :</strong> {{.LastActivityDate}}</p>
          <p><strong>Dernière connexion :</strong> {{.LastConnectionDate}}</p>
          <p><strong>Posts likés :</strong> {{.PostsLiked}}</p>
          <p><strong>Nombre de commentaires :</strong> {{.CommentsCount}}</p>
        </div>

        {{ if eq .Role "admin" }}
        <div class="admin-actions" style="margin-top:2rem;">
          <h2>Actions administrateur</h2>
          <a href="/moderation" class="btn">Modération des posts</a>
          <a href="/admin/users" class="btn">Gestion des utilisateurs</a>
        </div>
        {{ end }}

      </section>
    </main>
  </body>
</html>
